<!DOCTYPE html>
<!-- index.html -->
<html>
  <head>
    <title>My Website</title>
  </head>
  <body>
    <h1>Welcome to my Website!</h1>
    <script>
      const owner = 'the-real-finnventor';
      const repo = 'test';
      const path = 'log.txt';
      const token = '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';

      fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${path}`, {
        headers: {
          'Authorization': `token ${token}`
        }
      })
      .then(response => response.json())
      .then(data => {
        const content = data.content;
        const decodedContent = atob(content);
        const newContent = `${decodedContent}\n${userData}\n`;
        const encodedContent = btoa(newContent);

        return fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${path}`, {
          method: 'PUT',
          headers: {
            'Authorization': `token ${token}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            message: 'Append data to log.txt',
            content: encodedContent,
            sha: data.sha
          })
        });
      })
      .then(response => {
        if (response.ok) {
          console.log('Data appended to log file on GitHub');
        } else {
          console.error('Error appending data to log file on GitHub');
        }
      })
      .catch(error => console.error(error));
    </script>
  </body>
</html>